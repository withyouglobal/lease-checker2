<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark">
  <title>주택임대차 계약서 검증(테스트)</title>
  <link rel="stylesheet" href="style.css" />

  <!-- OCR: Tesseract.js -->
  <script src="https://unpkg.com/tesseract.js@4.1.1/dist/tesseract.min.js"></script>

  <!-- Diff: diff-match-patch (정상 로드되는 경로) -->
  <script src="https://cdn.jsdelivr.net/npm/diff-match-patch@1.0.5/index.js"></script>
</head>
<body>
  <header>
    <h1>주택임대차 계약서 검증(프로토타입)</h1>
    <p class="sub">계약서 사진(여러 장 가능) → OCR → 표준계약서와 포함률/유사도/앵커/주의 문구를 보여줍니다.</p>
  </header>

  <main>
    <section class="card">
      <h2>1) 표준계약서 텍스트</h2>
      <p class="muted">
        저장소의 <code>standard.txt</code>를 자동 로드합니다.
        필요하면 아래 박스에 직접 붙여넣어 임시로 덮어쓸 수 있습니다.
      </p>

      <textarea id="standardText" placeholder="표준계약서 텍스트(전체)를 여기에 붙여넣을 수 있습니다."></textarea>

      <div class="row">
        <button id="reloadStandard" type="button">standard.txt 다시 불러오기</button>
        <span id="standardStatus" class="muted"></span>
      </div>
      <div class="muted" id="standardMeta"></div>
    </section>

    <section class="card">
      <h2>2) 계약서 사진 업로드(촬영)</h2>
      <p class="muted">
        스마트폰에서 카메라가 뜨면 1페이지씩 촬영하세요. 여러 장을 선택하면 OCR 텍스트를 합쳐서 검증합니다.
      </p>

      <input id="imageInput" type="file" accept="image/*" capture="environment" multiple />

      <div class="row">
        <button id="clearImages" type="button">선택한 사진 지우기</button>
        <span id="imageStatus" class="muted"></span>
      </div>

      <div class="preview" id="previewList"></div>

      <div class="row">
        <button id="runBtn" type="button">OCR 후 검증 실행</button>
        <span id="progress" class="muted"></span>
      </div>
    </section>

    <section class="card">
      <h2>3) 결과</h2>
      <div id="resultBox" class="result"></div>

      <details class="cardInner">
        <summary>차이(diff) 미리보기 (요약)</summary>
        <p c
